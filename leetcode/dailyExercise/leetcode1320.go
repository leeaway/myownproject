package dailyExercise

import "math"

/**
 * @author 2416144794@qq.com
 * @date 2022/10/12 14:37
 */

//
//
// äºŒæŒ‡è¾“å…¥æ³•å®šåˆ¶é”®ç›˜åœ¨ X-Y å¹³é¢ä¸Šçš„å¸ƒå±€å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶ä¸­æ¯ä¸ªå¤§å†™è‹±æ–‡å­—æ¯éƒ½ä½äºæŸä¸ªåæ ‡å¤„ã€‚
//
//
// ä¾‹å¦‚å­—æ¯ A ä½äºåæ ‡ (0,0)ï¼Œå­—æ¯ B ä½äºåæ ‡ (0,1)ï¼Œå­—æ¯ P ä½äºåæ ‡ (2,3) ä¸”å­—æ¯ Z ä½äºåæ ‡ (4,1)ã€‚
//
//
// ç»™ä½ ä¸€ä¸ªå¾…è¾“å…¥å­—ç¬¦ä¸² wordï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›åœ¨ä»…ä½¿ç”¨ä¸¤æ ¹æ‰‹æŒ‡çš„æƒ…å†µä¸‹ï¼Œé”®å…¥è¯¥å­—ç¬¦ä¸²éœ€è¦çš„æœ€å°ç§»åŠ¨æ€»è·ç¦»ã€‚
//
// åæ ‡ (x1,y1) å’Œ (x2,y2) ä¹‹é—´çš„ è·ç¦» æ˜¯ |x1 - x2| + |y1 - y2|ã€‚
//
// æ³¨æ„ï¼Œä¸¤æ ¹æ‰‹æŒ‡çš„èµ·å§‹ä½ç½®æ˜¯é›¶ä»£ä»·çš„ï¼Œä¸è®¡å…¥ç§»åŠ¨æ€»è·ç¦»ã€‚ä½ çš„ä¸¤æ ¹æ‰‹æŒ‡çš„èµ·å§‹ä½ç½®ä¹Ÿä¸å¿…ä»é¦–å­—æ¯æˆ–è€…å‰ä¸¤ä¸ªå­—æ¯å¼€å§‹ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šword = "CAKE"
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š
//ä½¿ç”¨ä¸¤æ ¹æ‰‹æŒ‡è¾“å…¥ "CAKE" çš„æœ€ä½³æ–¹æ¡ˆä¹‹ä¸€æ˜¯ï¼š
//æ‰‹æŒ‡ 1 åœ¨å­—æ¯ 'C' ä¸Š -> ç§»åŠ¨è·ç¦» = 0
//æ‰‹æŒ‡ 1 åœ¨å­—æ¯ 'A' ä¸Š -> ç§»åŠ¨è·ç¦» = ä»å­—æ¯ 'C' åˆ°å­—æ¯ 'A' çš„è·ç¦» = 2
//æ‰‹æŒ‡ 2 åœ¨å­—æ¯ 'K' ä¸Š -> ç§»åŠ¨è·ç¦» = 0
//æ‰‹æŒ‡ 2 åœ¨å­—æ¯ 'E' ä¸Š -> ç§»åŠ¨è·ç¦» = ä»å­—æ¯ 'K' åˆ°å­—æ¯ 'E' çš„è·ç¦»  = 1
//æ€»è·ç¦» = 3
//
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šword = "HAPPY"
//è¾“å‡ºï¼š6
//è§£é‡Šï¼š
//ä½¿ç”¨ä¸¤æ ¹æ‰‹æŒ‡è¾“å…¥ "HAPPY" çš„æœ€ä½³æ–¹æ¡ˆä¹‹ä¸€æ˜¯ï¼š
//æ‰‹æŒ‡ 1 åœ¨å­—æ¯ 'H' ä¸Š -> ç§»åŠ¨è·ç¦» = 0
//æ‰‹æŒ‡ 1 åœ¨å­—æ¯ 'A' ä¸Š -> ç§»åŠ¨è·ç¦» = ä»å­—æ¯ 'H' åˆ°å­—æ¯ 'A' çš„è·ç¦» = 2
//æ‰‹æŒ‡ 2 åœ¨å­—æ¯ 'P' ä¸Š -> ç§»åŠ¨è·ç¦» = 0
//æ‰‹æŒ‡ 2 åœ¨å­—æ¯ 'P' ä¸Š -> ç§»åŠ¨è·ç¦» = ä»å­—æ¯ 'P' åˆ°å­—æ¯ 'P' çš„è·ç¦» = 0
//æ‰‹æŒ‡ 1 åœ¨å­—æ¯ 'Y' ä¸Š -> ç§»åŠ¨è·ç¦» = ä»å­—æ¯ 'A' åˆ°å­—æ¯ 'Y' çš„è·ç¦» = 4
//æ€»è·ç¦» = 6
//
//
//
//
// æç¤ºï¼š
//
//
// 2 <= word.length <= 300
// æ¯ä¸ª word[i] éƒ½æ˜¯ä¸€ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ã€‚
//
//
// Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ ğŸ‘ 77 ğŸ‘ 0

/*
æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ï¼Œæœ¬é¢˜ç€æ‰‹ç‚¹å°±æ˜¯å·¦å³æ‰‹çš„ä½ç½®
	dp[i][j]:è¡¨ç¤ºæœ€ç»ˆå·¦æ‰‹åœ¨iä½ç½®ï¼Œå³æ‰‹åœ¨jä½ç½®,i,jä¸€å®šä¸ç›¸ç­‰ï¼Œå› ä¸ºä¸¤æ ¹æ‰‹æŒ‡ä¸èƒ½åœ¨åŒä¸€ä¸ªä½ç½®
	ç”±äºå¯¹ç§°æ€§ï¼Œç›´æ¥è®¾i>jï¼Œåˆ™æœ‰çŠ¶æ€è½¬ç§»ï¼š
	1.è‹¥i-j > 1ï¼Œåˆ™dp[i][j] = dp[i-1][j]+dis(i-1,i),å› ä¸ºæ­¤æ—¶å³æ‰‹åœ¨j<i-1ä½ç½®ï¼Œåˆ™i-1ä½ç½®ä¸€å®šæ˜¯å·¦æ‰‹ç‚¹å‡»çš„ï¼›
	2.è‹¥i-j = 1ï¼Œåˆ™å·¦æ‰‹æ¥æºå¯ä»¥æ˜¯[0,i-1),å³dp[i][j] = min(dp[k][j]+dis(k,i)),å…¶ä¸­kçš„èŒƒå›´ä¸º[0,i-1)ï¼›
	åˆå§‹æ¡ä»¶ï¼šdp[i][0] = sum(dis(k,k+1)),å…¶ä¸­kçš„èŒƒå›´ä¸º[1,i-1]
*/

func minimumDistance(word string) int {
	n := len(word)
	dp := make([][]int, n)
	for i := 0; i < n; i++ {
		dp[i] = make([]int, n)
	}

	for i := 2; i < n; i++ {
		dp[i][0] = dp[i-1][0] + calDisBetweenTwoRunes(i-1, i, word)
	}

	for j := 1; j < n-1; j++ {
		for i := j + 1; i < n; i++ {
			if i-j > 1 {
				dp[i][j] = dp[i-1][j] + calDisBetweenTwoRunes(i-1, i, word)
			} else {
				dp[i][j] = math.MaxInt32
				for k := 0; k < j; k++ {
					dp[i][j] = min(dp[i][j], dp[i-1][k]+calDisBetweenTwoRunes(k, i, word))
				}
			}
		}
	}

	res := math.MaxInt32
	for j := 0; j < n-1; j++ {
		res = min(res, dp[n-1][j])
	}
	return res
}

func calDisBetweenTwoRunes(i, j int, word string) int {
	a, b := word[i], word[j]
	diff := int(math.Abs(float64(a) - float64(b)))
	return diff/6 + diff%6
}
